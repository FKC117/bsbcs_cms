{% extends "admin/base_site.html" %}

{% block content %}
    <div style="padding: 20px;">
        <h1>Admin Dashboard</h1>
        
        <!-- Key Metrics Section -->
        <div style="display: flex; justify-content: space-around; margin-bottom: 20px;">
            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 5px; text-align: center;">
                <h3>Total Participants</h3>
                <p>{{ total_participants }}</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 5px; text-align: center;">
                <h3>Pending Payments</h3>
                <p>{{ pending_payments }}</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 5px; text-align: center;">
                <h3>Revenue Collected</h3>
                <p>${{ revenue_collected }}</p>
            </div>
        </div>

        <!-- Event Overview Section -->
        <h2>Event Overview</h2>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
            <thead>
                <tr style="background-color: #f5f5f5;">
                    <th style="border: 1px solid #ddd; padding: 10px;">Event Name</th>
                    <th style="border: 1px solid #ddd; padding: 10px;">Approved Participants</th>
                    <th style="border: 1px solid #ddd; padding: 10px;">Pending Payments</th>
                    <th style="border: 1px solid #ddd; padding: 10px;">Revenue</th>
                </tr>
            </thead>
            <tbody>
                {% for event in events %}
                <tr>
                    <td style="border: 1px solid #ddd; padding: 10px;">{{ event.name }}</td>
                    <td style="border: 1px solid #ddd; padding: 10px;">{{ event.approved_participants }}</td>
                    <td style="border: 1px solid #ddd; padding: 10px;">{{ event.pending_payments }}</td>
                    <td style="border: 1px solid #ddd; padding: 10px;">${{ event.revenue_collected }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Recent Activities Section -->
        <h2>Recent Activities</h2>
        <ul>
            {% for activity in recent_activities %}
            <li>{{ activity.description }} - {{ activity.timestamp }}</li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
